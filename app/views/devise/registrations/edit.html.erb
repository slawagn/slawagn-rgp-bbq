<h2><%= t('devise.registrations.edit.signin_data') %></h2>

<%= form_for(resource,
  as:   resource_name,
  url:  registration_path(resource_name),
  html: { method: :put }) do |f|
%>
  <%= render 'devise/shared/error_messages', resource: resource %>

  <div class='my-2'>
    <%= f.email_field :email,
      placeholder:  t('activerecord.attributes.user.email'), 
      autofocus:    true,
      autocomplete: 'email'
    %>
    <%= f.label :email, fa_icon('envelope') %>
  </div>

  <% if devise_mapping.confirmable? && resource.pending_reconfirmation? %>
    <div class='my-2'>
      <%= t('devise.registrations.edit.currently_waiting_confirmation_for_email') %>
    </div>
  <% end %>

  <div class='my-2'>
    <%= f.password_field :password,
      placeholder:  t('activerecord.attributes.user.password'),
      autocomplete: 'new-password'
    %>
    <%= f.label :password, fa_icon('key') %>
  </div>

  <div class='my-2'>
    <%= f.password_field :password_confirmation,
      placeholder:  t('activerecord.attributes.user.password_confirmation'),
      autocomplete: 'new-password'
    %>
    <%= f.label :password, fa_icon('key') %>
  </div>

  <div class='my-2'>
    <%= f.password_field :current_password,
      placeholder:   t('activerecord.attributes.user.current_password'),
      autocomplete: 'current-password'
    %>
    <%= f.label :password, fa_icon('unlock') %>
  </div>

  <div class='my-2'>
    <%= f.submit t('devise.registrations.edit.update'),
      class: 'btn btn-primary'
    %>
    
    <%= button_to t('devise.registrations.edit.cancel_my_account'),
      registration_path(resource_name),
      data:   { confirm: t('devise.registrations.edit.are_you_sure') },
      method: :delete,
      class:  'btn btn-danger'
    %>
  </div>
<% end %>

<%= link_to t('devise.shared.links.back'), :back %>
